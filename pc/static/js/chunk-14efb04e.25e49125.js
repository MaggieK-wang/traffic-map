(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14efb04e"],{"09fd":function(t,e,i){"use strict";var a=i("bb0c"),s=i.n(a);s.a},"432a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"search-container"},[i("el-radio-group",{on:{change:t.handleSwitchRadio},model:{value:t.radioLable,callback:function(e){t.radioLable=e},expression:"radioLable"}},[i("el-radio-button",{attrs:{label:"全部"}}),t._v(" "),i("el-radio-button",{attrs:{label:"已启用"}}),t._v(" "),i("el-radio-button",{attrs:{label:"已禁用"}})],1)],1),t._v(" "),i("el-upload",{attrs:{action:"http://106.14.165.150:8083/goods/uploadImage","list-type":"picture-card","file-list":t.list,"on-preview":t.handlePicPreview,"on-remove":t.handleRemove,"on-success":t.handleOnSuccess},scopedSlots:t._u([{key:"file",fn:function(e){var a=e.file;return i("div",{staticStyle:{width:"100%"}},[i("el-card",{attrs:{"body-style":{padding:"0px",height:"100%"}}},[i("el-image",{staticClass:"image",class:{"disable-img":"2"==a.picStatus},attrs:{src:a.url,fit:"cover"}}),t._v(" "),i("div",{staticStyle:{padding:"14px"}},[i("span",{staticClass:"img-id"},[t._v(t._s(a.id))]),t._v(" "),i("div",{staticClass:"bottom clearfix"},[i("time",{staticClass:"time"},[t._v(t._s(t._f("datetimeFilter")(a.updatedTime)))]),t._v(" "),i("span",{staticClass:"pic-status"},[t._v(t._s(t._f("picStatusFilter")(a.picStatus)))])])])],1),t._v(" "),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handlePicPreview(a)}}},[i("i",{staticClass:"el-icon-view"})]),t._v(" "),"2"==a.picStatus?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handleUpdatePic(a,"1")}}},[i("i",{staticClass:"el-icon-video-play"})]):t._e(),t._v(" "),"1"==a.picStatus?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handleUpdatePic(a,"2")}}},[i("i",{staticClass:"el-icon-video-pause"})]):t._e(),t._v(" "),i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handleUpdatePic(a)}}},[i("i",{staticClass:"el-icon-delete"})])])],1)}}])},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-image",{attrs:{src:t.dialogImageUrl}})],1)],1)},s=[],c=(i("ac6a"),i("709b")),l=i("c1df"),n=i.n(l),o=[{key:"1",picStatusName:"已启用"},{key:"2",picStatusName:"已禁用"}],u=o.reduce((function(t,e){return t[e.key]=e.picStatusName,t}),{});console.log(u);var r={name:"banner",filters:{datetimeFilter:function(t){return n()(t).format("YY/MM/DD")},picStatusFilter:function(t){return u[parseInt(t)]}},data:function(){return{list:[],listQuery:{pageSize:20,pageNum:1},dialogVisible:!1,dialogImageUrl:"",radioLable:"全部",picStatusTypeKeyValue:u}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object(c["b"])(this.listQuery).then((function(e){console.log(e.data),t.list=[],e.data.list.forEach((function(e){t.list.push({id:e.id,name:e.id,url:e.picUrl,picStatus:e.picStatus,isDelete:e.isDelete,createdTime:e.createdTime,createdBy:e.createdBy,updatedTime:e.updatedTime,updatedBy:e.updatedBy})}))}))},handlePicPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleRemove:function(){alert("handleRemove")},handleUpdatePic:function(t,e){var i=this,a={id:t.id},s={id:t.id,picStatus:e};this.list.indexOf(t);e?Object(c["c"])(s).then((function(t){i.$notify({title:"修改成功",message:"成功",type:"success"}),i.fetchData()})):(console.log(a),Object(c["c"])(a).then((function(t){i.$notify({title:"删除成功",message:t.msg,type:"success"}),i.fetchData()})))},handleOnSuccess:function(t,e,i){var a=this;console.log(t.data);var s={picUrl:t.data};console.log(s),Object(c["a"])(s).then((function(t){a.$notify({title:"success",message:"上传成功",type:"success"}),a.fetchData()}))},handleSwitchRadio:function(t){for(var e in"全部"==t&&(this.listQuery.picStatus=void 0),this.picStatusTypeKeyValue)u[e]==t&&(this.listQuery.picStatus=e);this.fetchData()}}},d=r,p=(i("09fd"),i("2877")),f=Object(p["a"])(d,a,s,!1,null,null,null);e["default"]=f.exports},"709b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return u}));var a=i("db72"),s=i("b775"),c=JSON.parse(sessionStorage.getItem("loginAccount")),l="http://106.14.165.150:8083";function n(t){return console.log(t),Object(s["a"])({url:l+"/picture/listPic",method:"post",data:t})}function o(t){var e=Object(a["a"])({},t,{loginAccount:c});return console.log(e),Object(s["a"])({url:"http://106.14.165.150:8083/picture/addPic",method:"post",data:e})}function u(t){var e=Object(a["a"])({},t,{loginAccount:c});return console.log(e),Object(s["a"])({url:l+"/picture/updatePic",method:"post",data:e})}},bb0c:function(t,e,i){}}]);